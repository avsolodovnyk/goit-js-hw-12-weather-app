(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(n,t,e){},QfWi:function(n,t,e){"use strict";e.r(t);e("L1EO"),e("UOjr"),e("JBxO"),e("FdtR");function i(n){return new Promise(function(t,e){fetch("http://api.apixu.com/v1/current.json?key=a111d758e3d74685acc181313191107&q="+n+"&lang=ru").then(function(n){if(n.ok)return n.json();throw new Error(n.status)}).then(t).catch(e)})}e("D/wG");var r,c=e("dIfx"),o=(e("mNaS"),e("dcBu"),{secWeather:document.querySelector("#weather"),spinner:document.querySelector(".loading")});function a(n){var t='<h2>Current weather</h2>\n  <img\n    class="icon"\n    src="https://'+n.current.condition.icon+'"\n    alt="'+n.current.condition.text+'"\n  />\n  <p>Location: <span data-field="location">'+n.location.name+'</span></p>\n  <p>Temperature: <span data-field="temp">'+n.current.temp_c+'&#8451;</span></p>\n  <p>Humidity: <span data-field="humidity">'+n.current.humidity+'%</span></p>\n  <p>Wind: <span data-field="wind">'+n.current.wind_kph+'kph</span></p>\n  <p>Conditions: <span data-field="conditions">'+n.current.condition.text+"</span></p>\n</section>";o.secWeather.innerHTML="",o.secWeather.insertAdjacentHTML("afterbegin",t),u(!1,!0)}function s(n){var t="";t=1==n?"Нет прав доступа к геопозиции, используйте поиск по имени города":400==n?"Указанный город не найден":"Неизвестная ошибка",c.a.error({title:"Ошибка",text:t})}function u(n,t){n?o.spinner.classList.remove("is-hidden"):o.spinner.classList.add("is-hidden"),t?o.secWeather.classList.remove("is-hidden"):o.secWeather.classList.add("is-hidden")}({subbmitBtn:document.querySelector("#search-form")}).subbmitBtn.addEventListener("submit",function(n){n.preventDefault(),u(!0,!1),i(n.currentTarget.elements[0].value).then(function(n){return a(n)}).catch(function(n){u(!1,!1),s(n.message)})}),u(!0,!1),(r={timeout:5e3,maximumAge:18e5},new Promise(function(n,t){window.navigator.geolocation.getCurrentPosition(n,t,r)})).then(function(n){return n.coords.latitude+"+ "+n.coords.longitude}).then(function(n){return i(n)}).then(function(n){return a(n)}).catch(function(n){u(!1,!1),s(n.code)})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.328ffa5584c4e99998ee.js.map